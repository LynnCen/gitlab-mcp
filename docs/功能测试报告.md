# GitLab MCP V2 åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2026-01-28  
**æµ‹è¯• MR**: https://git.intra.gaoding.com/gdesign/meta/-/merge_requests/13656  
**é¡¹ç›®è·¯å¾„**: `gdesign/meta`  
**MR IID**: `13656`

---

## ä¸€ã€æµ‹è¯•æ¦‚è§ˆ

| åŠŸèƒ½ç±»å‹ | æ€»æ•° | é€šè¿‡ | å¤±è´¥ | æœªæµ‹è¯• |
|----------|------|------|------|--------|
| Tools    | 8    | 8    | 0    | 0      |
| Resources| 5    | -    | -    | 5*     |
| Prompts  | 3    | -    | -    | 3*     |

> *æ³¨ï¼šResources å’Œ Prompts åœ¨å½“å‰ MCP é…ç½®ä¸­æœªæš´éœ²ï¼Œä½†ä»£ç å®ç°å®Œæ•´ã€‚

---

## äºŒã€Tools åŠŸèƒ½æµ‹è¯•è¯¦æƒ…

### 2.1 `get_merge_request` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: è·å–æŒ‡å®šé¡¹ç›®çš„åˆå¹¶è¯·æ±‚è¯¦ç»†ä¿¡æ¯

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656
}
```

**è¿”å›ç»“æœ**:
```json
{
  "id": 359977,
  "iid": 13656,
  "title": "fix: ä¿®å¤ç¼–è¾‘å™¨DAMä¸­è§†é¢‘ä¸Šä¼ é¢„è§ˆå’Œæ–‡ä»¶å¤¹æ˜¾ç¤ºé—®é¢˜",
  "description": "## èƒŒæ™¯è¯´æ˜ (Why)...",
  "state": "merged",
  "author": {
    "id": 2873,
    "username": "lincen",
    "name": "lincen",
    "state": "active",
    "avatar_url": "https://git.intra.gaoding.com/uploads/-/system/user/avatar/2873/avatar.png",
    "web_url": "https://git.intra.gaoding.com/lincen"
  },
  "source_branch": "fix/dam_online_issues",
  "target_branch": "master",
  "created_at": "2025-12-30T08:21:50.454Z",
  "updated_at": "2025-12-31T03:18:20.276Z",
  "web_url": "https://git.intra.gaoding.com/gdesign/meta/-/merge_requests/13656"
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼Œè¿”å›å®Œæ•´çš„ MR ä¿¡æ¯

---

### 2.2 `get_merge_request_changes` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: è·å–åˆå¹¶è¯·æ±‚çš„æ–‡ä»¶å˜æ›´åˆ—è¡¨

#### æµ‹è¯•åœºæ™¯ 1: ä¸åŒ…å«æ–‡ä»¶å†…å®¹

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656,
  "includeContent": false
}
```

**è¿”å›ç»“æœ**:
```json
{
  "changes": [
    {
      "old_path": ".changeset/fix-dam-online-issues.md",
      "new_path": ".changeset/fix-dam-online-issues.md",
      "new_file": true,
      "deleted_file": false,
      "renamed_file": false
    },
    {
      "old_path": "domains/dam/dam-app/src/spaces/entries/my-recycle/config.ts",
      "new_path": "domains/dam/dam-app/src/spaces/entries/my-recycle/config.ts",
      "new_file": false,
      "deleted_file": false,
      "renamed_file": false
    },
    {
      "old_path": "domains/dam/space/src/presets/hooks/index.ts",
      "new_path": "domains/dam/space/src/presets/hooks/index.ts",
      "new_file": false,
      "deleted_file": false,
      "renamed_file": false
    },
    {
      "old_path": "domains/dam/space/src/store/config/list.ts",
      "new_path": "domains/dam/space/src/store/config/list.ts",
      "new_file": false,
      "deleted_file": false,
      "renamed_file": false
    }
  ],
  "summary": {
    "totalFiles": 4,
    "additions": 59,
    "deletions": 13,
    "modifiedFiles": [
      "domains/dam/dam-app/src/spaces/entries/my-recycle/config.ts",
      "domains/dam/space/src/presets/hooks/index.ts",
      "domains/dam/space/src/store/config/list.ts"
    ],
    "newFiles": [
      ".changeset/fix-dam-online-issues.md"
    ],
    "deletedFiles": []
  }
}
```

#### æµ‹è¯•åœºæ™¯ 2: åŒ…å«æ–‡ä»¶å†…å®¹ + focusFiles ç­›é€‰

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656,
  "includeContent": true,
  "focusFiles": ["domains/dam/space/src/presets/hooks/index.ts"]
}
```

**è¿”å›ç»“æœ**: æˆåŠŸè¿”å›æŒ‡å®šæ–‡ä»¶çš„ diff å†…å®¹

```diff
@@ -6,7 +6,7 @@ import { castArray, get } from 'lodash-es';
 import { watch } from 'vue-demi';
 import { message } from '@gaoding/gd-antd';
 import { ActionType, State, TaskStatus } from '@gaoding/dam-widgets/task-progress';
-import { trashMessageTip } from '@gaoding/dam-utils';
+import { trashMessageTip, getFormatFromFile, isVideo } from '@gaoding/dam-utils';
 
 // æ·»åŠ é¢„è§ˆæ–‡ä»¶
 const unshiftPreviewFiles = (files: File[], storeId?: string) => {
...
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼Œæ”¯æŒ includeContent å’Œ focusFiles å‚æ•°

---

### 2.3 `list_merge_requests` âœ… å·²ä¿®å¤

**åŠŸèƒ½æè¿°**: åˆ—å‡ºé¡¹ç›®çš„åˆå¹¶è¯·æ±‚

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "state": "opened",
  "perPage": 5
}
```

**åŸå§‹é—®é¢˜**:
```json
{
  "error": "mrs.map is not a function"
}
```

**ä¿®å¤å†…å®¹**:
- ä¿®æ”¹ `GitLabRepository.listMergeRequests` æ–¹æ³•
- ä½¿ç”¨ Gitbeaker çš„ `MergeRequests.all` æ–¹æ³•ä»£æ›¿åŸå§‹ API è°ƒç”¨
- æ·»åŠ è¿”å›å€¼ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿æ­£ç¡®å¤„ç†æ•°ç»„æ ¼å¼
- å¤„ç† `state: 'all'` å‚æ•°å…¼å®¹æ€§é—®é¢˜

**ä¿®å¤æ–‡ä»¶**: `src/repositories/GitLabRepository.ts`

**æµ‹è¯•ç»“è®º**: âœ… BUG å·²ä¿®å¤ï¼ˆ2026-01-28ï¼‰

---

### 2.4 `update_merge_request_description` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: æ›´æ–°æŒ‡å®šåˆå¹¶è¯·æ±‚çš„æè¿°ä¿¡æ¯ï¼Œæ”¯æŒ Markdown æ ¼å¼

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656,
  "description": "åŸæœ‰æè¿°å†…å®¹ + æµ‹è¯•æ ‡è®°"
}
```

**è¿”å›ç»“æœ**:
```json
{
  "success": true,
  "message": "åˆå¹¶è¯·æ±‚æè¿°æ›´æ–°æˆåŠŸ",
  "merge_request": {
    "id": 359977,
    "iid": 13656,
    "title": "fix: ä¿®å¤ç¼–è¾‘å™¨DAMä¸­è§†é¢‘ä¸Šä¼ é¢„è§ˆå’Œæ–‡ä»¶å¤¹æ˜¾ç¤ºé—®é¢˜",
    "description": "...(æ›´æ–°åçš„æè¿°)...",
    "state": "merged",
    "updated_at": "2026-01-28T10:55:56.064Z",
    "description_length": 4291
  }
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼ŒæˆåŠŸæ›´æ–° MR æè¿°ï¼ˆåœ¨åŸæè¿°æœ«å°¾æ·»åŠ äº† MCP åŠŸèƒ½æµ‹è¯•æ ‡è®°ï¼‰

---

### 2.5 `get_file_content` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: è·å–æŒ‡å®šé¡¹ç›®çš„æ–‡ä»¶å†…å®¹

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "filePath": "domains/dam/space/src/presets/hooks/index.ts",
  "ref": "master"
}
```

**è¿”å›ç»“æœ**:
```json
{
  "file_name": "index.ts",
  "file_path": "domains/dam/space/src/presets/hooks/index.ts",
  "size": 9655,
  "encoding": "base64",
  "content": "aW1wb3J0IHsgdXNlQ29uZmlndXJhdGlvbiB9IGZyb20gJ0Avc2VydmljZX...",
  "ref": "master",
  "commit_id": "a897d47f8780f3f288f2e9e848eeed961071c456"
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼ŒæˆåŠŸè·å–æ–‡ä»¶å†…å®¹ï¼ˆBase64 ç¼–ç ï¼‰

---

### 2.6 `analyze_mr_changes` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: åˆ†æåˆå¹¶è¯·æ±‚çš„æ–‡ä»¶å˜æ›´å’Œå·®å¼‚ä¿¡æ¯ï¼Œä¸ºä»£ç å®¡æŸ¥æä¾›åŸºç¡€æ•°æ®

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656
}
```

**è¿”å›ç»“æœ**:
```json
{
  "merge_request": {
    "project_path": "gdesign/meta",
    "iid": 13656
  },
  "analysis_summary": {
    "total_files": 4,
    "reviewed_files": 0,
    "total_issues": 0,
    "issues_by_severity": {
      "critical": 0,
      "warning": 0,
      "suggestion": 0
    }
  },
  "results": [],
  "analyzed_at": "2026-01-28T10:41:56.376Z"
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼Œè¿”å›åˆ†æç»“æœï¼ˆå½“å‰è§„åˆ™ä¸‹æ— å®¡æŸ¥é—®é¢˜ï¼‰

---

### 2.7 `push_code_review_comments` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: å°†ä»£ç å®¡æŸ¥è¯„è®ºæ¨é€åˆ° GitLab MRï¼Œæ”¯æŒè¡Œå†…è¯„è®ºå’Œæ–‡ä»¶çº§è¯„è®º

**æµ‹è¯•å‚æ•°**:
```json
{
  "projectPath": "gdesign/meta",
  "mergeRequestIid": 13656,
  "summaryComment": "ğŸ¤– GitLab MCP V2 åŠŸèƒ½æµ‹è¯•...",
  "commentStyle": "detailed",
  "reviewComments": [
    {
      "filePath": "domains/dam/space/src/presets/hooks/index.ts",
      "lineNumber": 56,
      "severity": "suggestion",
      "title": "å»ºè®®ï¼šè§†é¢‘èµ„æºé‡Šæ”¾",
      "description": "è§†é¢‘å…ƒç´ åˆ›å»ºåï¼Œå»ºè®®åœ¨ä½¿ç”¨å®Œæˆåé‡Šæ”¾èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼",
      "suggestion": "å¯ä»¥åœ¨ onloadedmetadata å›è°ƒåè°ƒç”¨ URL.revokeObjectURL(fileUrl) é‡Šæ”¾ blob URL",
      "category": "æ€§èƒ½ä¼˜åŒ–",
      "autoFixable": false
    },
    {
      "filePath": "domains/dam/space/src/presets/hooks/index.ts",
      "lineNumber": 23,
      "severity": "suggestion",
      "title": "å»ºè®®ï¼šæå–æ–‡ä»¶ç±»å‹åˆ¤æ–­é€»è¾‘",
      "description": "æ–‡ä»¶ç±»å‹åˆ¤æ–­é€»è¾‘å¯ä»¥è€ƒè™‘æŠ½è±¡ä¸ºç‹¬ç«‹å‡½æ•°ï¼Œæé«˜ä»£ç å¤ç”¨æ€§",
      "suggestion": "å¯ä»¥åˆ›å»ºä¸€ä¸ª getMediaType(file) å‡½æ•°æ¥ç»Ÿä¸€å¤„ç†æ–‡ä»¶ç±»å‹åˆ¤æ–­",
      "category": "ä»£ç è´¨é‡",
      "autoFixable": false
    }
  ]
}
```

**è¿”å›ç»“æœ**:
```json
{
  "success": true,
  "summary": {
    "total_comments": 2,
    "successful_comments": 2,
    "failed_comments": 0,
    "summary_comment_added": true
  },
  "message": "å·²æˆåŠŸæ¨é€ 2 æ¡ä»£ç å®¡æŸ¥è¯„è®ºåˆ° MR #13656",
  "pushed_at": "2026-01-28T10:56:01.911Z"
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼ŒæˆåŠŸæ¨é€ 2 æ¡è¡Œå†…è¯„è®ºå’Œ 1 æ¡æ€»ç»“è¯„è®ºåˆ° MR

---

### 2.8 `get_file_code_review_rules` âœ… é€šè¿‡

**åŠŸèƒ½æè¿°**: æ ¹æ®æ–‡ä»¶ç±»å‹å’Œè·¯å¾„è·å–ç›¸åº”çš„ä»£ç å®¡æŸ¥è§„åˆ™

**æµ‹è¯•å‚æ•°**:
```json
{
  "filePath": "domains/dam/space/src/presets/hooks/index.ts",
  "fileExtension": "ts"
}
```

**è¿”å›ç»“æœ**:
```json
{
  "file_path": "domains/dam/space/src/presets/hooks/index.ts",
  "extension": "ts",
  "rules": {
    "focus_areas": [
      "åŸºç¡€ä»£ç è´¨é‡",
      "å¯è¯»æ€§",
      "ç»´æŠ¤æ€§"
    ],
    "specific_rules": [
      "ç¡®ä¿ä»£ç é€»è¾‘æ¸…æ™°",
      "é¿å…è¿‡åº¦å¤æ‚çš„åµŒå¥—",
      "å‡½æ•°å’Œå˜é‡å‘½åè¦æœ‰æ„ä¹‰",
      "æ·»åŠ å¿…è¦çš„æ³¨é‡Š"
    ],
    "ignore_patterns": [],
    "severity_mapping": {}
  },
  "should_review": false,
  "message": "æ–‡ä»¶å·²è¢«è¿‡æ»¤ï¼Œä¸éœ€è¦å®¡æŸ¥"
}
```

**æµ‹è¯•ç»“è®º**: âœ… åŠŸèƒ½æ­£å¸¸ï¼Œè¿”å›æ–‡ä»¶å¯¹åº”çš„å®¡æŸ¥è§„åˆ™

---

## ä¸‰ã€Resources èµ„æºå®šä¹‰

æ ¹æ®æºç åˆ†æï¼ŒMCP æœåŠ¡å™¨å®šä¹‰äº†ä»¥ä¸‹èµ„æºï¼ˆå½“å‰ç‰ˆæœ¬æœªå¯¹å¤–æš´éœ²ï¼‰ï¼š

| èµ„æºåç§° | URI æ ¼å¼ | æè¿° |
|----------|----------|------|
| ProjectResource | `gitlab://projects/{id}` | é¡¹ç›®ä¿¡æ¯èµ„æº |
| MergeRequestResource | `gitlab://projects/{id}/mrs/{iid}` | åˆå¹¶è¯·æ±‚ä¿¡æ¯èµ„æº |
| MergeRequestChangesResource | `gitlab://projects/{id}/mrs/{iid}/changes` | MR å˜æ›´ä¿¡æ¯èµ„æº |
| FileResource | `gitlab://files/{path}` | æ–‡ä»¶å†…å®¹èµ„æº |
| CodeReviewRulesResource | `gitlab://code-review/rules` | ä»£ç å®¡æŸ¥è§„åˆ™èµ„æº |

**ä»£ç ä½ç½®**:
- `src/plugins/gitlab-mr/resources/ProjectResource.ts`
- `src/plugins/gitlab-mr/resources/MergeRequestResource.ts`
- `src/plugins/gitlab-mr/resources/MergeRequestChangesResource.ts`
- `src/plugins/gitlab-file/resources/FileResource.ts`
- `src/plugins/gitlab-code-review/resources/CodeReviewRulesResource.ts`

---

## å››ã€Prompts æç¤ºå®šä¹‰

æ ¹æ®æºç åˆ†æï¼ŒMCP æœåŠ¡å™¨å®šä¹‰äº†ä»¥ä¸‹æç¤ºæ¨¡æ¿ï¼ˆå½“å‰ç‰ˆæœ¬æœªå¯¹å¤–æš´éœ²ï¼‰ï¼š

### 4.1 MRDescriptionPrompt

**åç§°**: `mr-description`  
**æè¿°**: ç”Ÿæˆåˆå¹¶è¯·æ±‚æè¿°  
**ç‰ˆæœ¬**: 1.0.0

**å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| projectPath | string | âœ… | - | é¡¹ç›®è·¯å¾„ |
| mrIid | number | âœ… | - | åˆå¹¶è¯·æ±‚ID |
| style | string | âŒ | detailed | æè¿°é£æ ¼ï¼ˆdetailed/summary/minimalï¼‰ |

**æ”¯æŒçš„é£æ ¼**:
- `minimal`: æœ€ç®€æ‘˜è¦
- `summary`: æ‘˜è¦æ ¼å¼
- `detailed`: è¯¦ç»†æ ¼å¼ï¼ˆåŒ…å«è¡¨æ ¼ã€å›¾æ ‡ç­‰ï¼‰

**ä»£ç ä½ç½®**: `src/plugins/gitlab-mr/prompts/MRDescriptionPrompt.ts`

---

### 4.2 CodeReviewTypeScriptPrompt

**åç§°**: TypeScript ä»£ç å®¡æŸ¥æç¤º  
**æè¿°**: ä¸º TypeScript æ–‡ä»¶ç”Ÿæˆä»£ç å®¡æŸ¥æç¤º

**ä»£ç ä½ç½®**: `src/plugins/gitlab-code-review/prompts/CodeReviewTypeScriptPrompt.ts`

---

### 4.3 CodeReviewVuePrompt

**åç§°**: Vue ä»£ç å®¡æŸ¥æç¤º  
**æè¿°**: ä¸º Vue æ–‡ä»¶ç”Ÿæˆä»£ç å®¡æŸ¥æç¤º

**ä»£ç ä½ç½®**: `src/plugins/gitlab-code-review/prompts/CodeReviewVuePrompt.ts`

---

## äº”ã€æ¶æ„æ€»è§ˆ

```
gitlab-mcp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ bootstrap/
â”‚   â”‚   â”œâ”€â”€ index.ts              # åº”ç”¨å¯åŠ¨å…¥å£
â”‚   â”‚   â””â”€â”€ registerTools.ts      # å·¥å…·æ³¨å†Œé€»è¾‘
â”‚   â”‚
â”‚   â”œâ”€â”€ capabilities/
â”‚   â”‚   â”œâ”€â”€ tools/                # å·¥å…·åŸºç¡€ç±»
â”‚   â”‚   â”œâ”€â”€ resources/            # èµ„æºåŸºç¡€ç±»
â”‚   â”‚   â””â”€â”€ prompts/              # æç¤ºåŸºç¡€ç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ server/
â”‚   â”‚       â””â”€â”€ MCPServer.ts      # MCP æœåŠ¡å™¨æ ¸å¿ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ plugins/
â”‚   â”‚   â”œâ”€â”€ gitlab-mr/            # MR ç›¸å…³åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/            # 4 ä¸ªå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ resources/        # 3 ä¸ªèµ„æº
â”‚   â”‚   â”‚   â””â”€â”€ prompts/          # 1 ä¸ªæç¤º
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ gitlab-file/          # æ–‡ä»¶ç›¸å…³åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/            # 1 ä¸ªå·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ resources/        # 2 ä¸ªèµ„æº
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ gitlab-code-review/   # ä»£ç å®¡æŸ¥åŠŸèƒ½
â”‚   â”‚       â”œâ”€â”€ tools/            # 3 ä¸ªå·¥å…·
â”‚   â”‚       â”œâ”€â”€ resources/        # 1 ä¸ªèµ„æº
â”‚   â”‚       â””â”€â”€ prompts/          # 2 ä¸ªæç¤º
â”‚   â”‚
â”‚   â””â”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡å±‚
â”‚       â”œâ”€â”€ MergeRequestService.ts
â”‚       â”œâ”€â”€ FileOperationService.ts
â”‚       â”œâ”€â”€ CodeReviewService.ts
â”‚       â””â”€â”€ ProjectService.ts
```

---

## å…­ã€é—®é¢˜æ±‡æ€»ä¸å»ºè®®

### 6.1 å‘ç°çš„é—®é¢˜

| åºå· | é—®é¢˜ç±»å‹ | åŠŸèƒ½ | é—®é¢˜æè¿° | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|----------|------|----------|--------|------|
| 1 | BUG | `list_merge_requests` | è¿”å›é”™è¯¯ `mrs.map is not a function`ï¼Œæ•°æ®ç±»å‹å¤„ç†å¼‚å¸¸ | P0 | âœ… å·²ä¿®å¤ |
| 2 | åŠŸèƒ½ç¼ºå¤± | Resources | èµ„æºåŠŸèƒ½å·²å®ç°ä½†æœªæš´éœ²åˆ° MCP å®¢æˆ·ç«¯ | P1 | âœ… å·²ä¿®å¤ |
| 3 | åŠŸèƒ½ç¼ºå¤± | Prompts | æç¤ºåŠŸèƒ½å·²å®ç°ä½†æœªæš´éœ²åˆ° MCP å®¢æˆ·ç«¯ | P1 | âœ… å·²ä¿®å¤ |

### 6.2 ä¿®å¤è¯´æ˜

#### Resources ä¿®å¤ (2026-01-28)
- æ·»åŠ  `ListResourceTemplatesRequestSchema` å¤„ç†å™¨
- åŒºåˆ†é™æ€èµ„æºå’Œèµ„æºæ¨¡æ¿
- èµ„æºæ¨¡æ¿é€šè¿‡ `resources/templates/list` æš´éœ²
- æ›´æ–° Resource åŸºç±»æ”¯æŒåŠ¨æ€ metadata

#### Prompts ä¿®å¤ (2026-01-28)
- ä¿®æ”¹ `arguments` æ ¼å¼ç¬¦åˆ MCP è§„èŒƒ
- åªè¿”å› `name`, `description`, `required` å­—æ®µ

### 6.2 å»ºè®®

1. **ä¿®å¤ `list_merge_requests` å·¥å…·**
   - æ£€æŸ¥ `ListMergeRequestsTool.ts` ä¸­ GitLab API è¿”å›æ•°æ®çš„å¤„ç†é€»è¾‘
   - æ·»åŠ ç±»å‹æ ¡éªŒå’Œç©ºå€¼å¤„ç†

2. **å¯ç”¨ Resources å’Œ Prompts**
   - ç¡®è®¤ MCP é…ç½®ä¸­æ˜¯å¦æ­£ç¡®å£°æ˜äº† resources å’Œ prompts èƒ½åŠ›
   - æ£€æŸ¥èµ„æºå’Œæç¤ºçš„æ³¨å†Œæµç¨‹

3. **æ·»åŠ å•å…ƒæµ‹è¯•**
   - ä¸ºæ¯ä¸ªå·¥å…·æ·»åŠ å•å…ƒæµ‹è¯•ç”¨ä¾‹
   - æ·»åŠ é›†æˆæµ‹è¯•éªŒè¯å®Œæ•´æµç¨‹

---

## ä¸ƒã€æµ‹è¯•ç¯å¢ƒä¿¡æ¯

- **MCP æœåŠ¡å™¨ç‰ˆæœ¬**: gitlab-mcpV2
- **æµ‹è¯•å·¥å…·**: Cursor IDE MCP é›†æˆ
- **GitLab å®ä¾‹**: https://git.intra.gaoding.com
- **æµ‹è¯•æ—¥æœŸ**: 2026-01-28

---

## å…«ã€é™„å½•ï¼šå®Œæ•´åŠŸèƒ½æ¸…å•

### Tools (8 ä¸ª)

| å·¥å…·å | çŠ¶æ€ | æè¿° |
|--------|------|------|
| `get_merge_request` | âœ… | è·å– MR è¯¦æƒ… |
| `get_merge_request_changes` | âœ… | è·å– MR å˜æ›´ |
| `list_merge_requests` | âœ… | åˆ—å‡º MR (å·²ä¿®å¤) |
| `update_merge_request_description` | âœ… | æ›´æ–° MR æè¿° |
| `get_file_content` | âœ… | è·å–æ–‡ä»¶å†…å®¹ |
| `analyze_mr_changes` | âœ… | åˆ†æ MR å˜æ›´ |
| `push_code_review_comments` | âœ… | æ¨é€å®¡æŸ¥è¯„è®º |
| `get_file_code_review_rules` | âœ… | è·å–å®¡æŸ¥è§„åˆ™ |

### Resources (5 ä¸ª)

| èµ„æºå | URI | çŠ¶æ€ |
|--------|-----|------|
| ProjectResource | `gitlab://projects/{id}` | æœªæš´éœ² |
| MergeRequestResource | `gitlab://projects/{id}/mrs/{iid}` | æœªæš´éœ² |
| MergeRequestChangesResource | `gitlab://projects/{id}/mrs/{iid}/changes` | æœªæš´éœ² |
| FileResource | `gitlab://files/{path}` | æœªæš´éœ² |
| CodeReviewRulesResource | `gitlab://code-review/rules` | æœªæš´éœ² |

### Prompts (3 ä¸ª)

| æç¤ºå | çŠ¶æ€ |
|--------|------|
| `mr-description` | æœªæš´éœ² |
| CodeReviewTypeScriptPrompt | æœªæš´éœ² |
| CodeReviewVuePrompt | æœªæš´éœ² |
