# ğŸ› ï¸ å¼€å‘æ–‡æ¡£

æœ¬ç›®å½•åŒ…å« GitLab MCP é¡¹ç›®çš„æ‰€æœ‰å¼€å‘ç›¸å…³æ–‡æ¡£ï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æŠ€æœ¯å†³ç­–ã€å¼€å‘æŒ‡å—ç­‰ã€‚

## ğŸ“š æ–‡æ¡£ç›®å½•

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [å¿«é€Ÿå¼€å§‹æµ‹è¯•](./QUICK-START-TESTING.md) | âš¡ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æµ‹è¯• MCP Server |
| [æ¶æ„è®¾è®¡](./architecture.md) | ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼Œå…­å±‚æ¶æ„è¯¦è§£ |
| [æ’ä»¶å¼€å‘æŒ‡å—](./plugin-development-guide.md) | å¦‚ä½•å¼€å‘å’Œæ‰©å±•æ’ä»¶ |
| [MCP Inspector æµ‹è¯•](./MCP-INSPECTOR-TESTING.md) | ä½¿ç”¨å®˜æ–¹å·¥å…·æµ‹è¯•å’Œè°ƒè¯• MCP Server |

### å¿«é€Ÿå¼€å§‹

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ç¯å¢ƒæ­å»º](./getting-started/setup.md) | å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å— |
| [ä¾èµ–å®‰è£…](./getting-started/INSTALL-DEPS.md) | é¡¹ç›®ä¾èµ–å®‰è£…è¯´æ˜ |
| [å¼€å‘è€…æŒ‡å—](./getting-started/README.md) | å¼€å‘è€…å¿«é€Ÿå…¥é—¨ |

### è®¾è®¡æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [æ¥å£è®¾è®¡](./design/interfaces.md) | æ ¸å¿ƒæ¥å£å’Œç±»å‹å®šä¹‰ |

### æŠ€æœ¯å†³ç­–

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [æŠ€æœ¯æ ˆé€‰å‹](./decisions/tech-stack.md) | æŠ€æœ¯é€‰å‹çš„åˆ†æå’Œå†³ç­–è¿‡ç¨‹ |

### æ€§èƒ½æµ‹è¯•

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [æ€§èƒ½åŸºå‡†](./benchmarks/baseline.md) | æ€§èƒ½æµ‹è¯•åŸºå‡†æ•°æ® |

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

GitLab MCP é‡‡ç”¨å…­å±‚æ¶æ„è®¾è®¡ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¼ è¾“å±‚ (Transport)              â”‚  stdio/WebSocket
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         åè®®å±‚ (Protocol)               â”‚  MCP Server
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         èƒ½åŠ›å±‚ (Capability)             â”‚  Tools/Resources/Prompts
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ä¸­é—´ä»¶å±‚ (Middleware)            â”‚  Auth/RateLimit/Cache
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ä¸šåŠ¡å±‚ (Business)               â”‚  Services
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       æ•°æ®è®¿é—®å±‚ (Data Access)          â”‚  Repositories
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [æ¶æ„è®¾è®¡æ–‡æ¡£](./architecture.md)ã€‚

## ğŸš€ å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/LynnCen/gitlab-mcp
cd gitlab-mcp

# å®‰è£…ä¾èµ–
pnpm install

# é…ç½®ç¯å¢ƒå˜é‡
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ GITLAB_HOST å’Œ GITLAB_TOKEN
```

è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ [ç¯å¢ƒæ­å»ºæŒ‡å—](./getting-started/setup.md)ã€‚

### 2. æœ¬åœ°å¼€å‘

```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨ç¼–è¯‘ï¼‰
pnpm run dev

# æ„å»ºé¡¹ç›®
pnpm run build

# è¿è¡Œæµ‹è¯•
pnpm test

# ç±»å‹æ£€æŸ¥
pnpm run type-check

# ä»£ç æ ¼å¼åŒ–
pnpm run format

# ä»£ç æ£€æŸ¥
pnpm run lint
```

### 3. æ·»åŠ æ–°åŠŸèƒ½

#### æ·»åŠ æ–°çš„ MCP å·¥å…·

1. åœ¨ `src/plugins/` ä¸‹åˆ›å»ºæ–°çš„å·¥å…·ç±»
2. ç»§æ‰¿ `Tool` åŸºç±»å¹¶å®ç°å¿…è¦æ–¹æ³•
3. åœ¨ `src/bootstrap/registerTools.ts` ä¸­æ³¨å†Œ
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

ç¤ºä¾‹å‚è€ƒï¼š[æ’ä»¶å¼€å‘æŒ‡å—](./plugin-development-guide.md)

#### æ·»åŠ æ–°çš„èµ„æº

1. åœ¨ `src/capabilities/resources/` ä¸‹åˆ›å»ºæ–°çš„èµ„æºç±»
2. ç»§æ‰¿ `Resource` åŸºç±»
3. åœ¨ `src/bootstrap/registerTools.ts` ä¸­æ³¨å†Œ

#### æ·»åŠ æ–°çš„æç¤º

1. åœ¨ `src/capabilities/prompts/` ä¸‹åˆ›å»ºæ–°çš„æç¤ºç±»
2. ç»§æ‰¿ `Prompt` åŸºç±»
3. åœ¨ `src/bootstrap/registerTools.ts` ä¸­æ³¨å†Œ

### 4. æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
pnpm test -- src/services/MergeRequestService.test.ts

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pnpm test -- --coverage

# UI æ¨¡å¼è¿è¡Œæµ‹è¯•
pnpm test -- --ui
```

æ›´å¤šæµ‹è¯•è¯´æ˜è¯·æŸ¥çœ‹ [æµ‹è¯•æ–‡æ¡£](../../TESTING.md)ã€‚

### 5. æäº¤ä»£ç 

```bash
# æ·»åŠ å˜æ›´
git add .

# æäº¤ï¼ˆä¼šè‡ªåŠ¨è¿è¡Œ lint å’Œ type-checkï¼‰
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# æ¨é€
git push origin feature/your-feature
```

## ğŸ“ ä»£ç è§„èŒƒ

### TypeScript è§„èŒƒ

- âœ… å¯ç”¨ä¸¥æ ¼æ¨¡å¼ (`strict: true`)
- âœ… é¿å…ä½¿ç”¨ `any`ï¼Œä¼˜å…ˆä½¿ç”¨å…·ä½“ç±»å‹
- âœ… ä½¿ç”¨æ¥å£å®šä¹‰å…¬å…± API
- âœ… å¯¼å‡ºçš„å‡½æ•°å¿…é¡»æœ‰ç±»å‹æ³¨è§£
- âœ… ä½¿ç”¨ Zod è¿›è¡Œè¿è¡Œæ—¶æ ¡éªŒ

### å‘½åè§„èŒƒ

- **æ–‡ä»¶å**: `PascalCase.ts` (ç±»æ–‡ä»¶) æˆ– `kebab-case.ts` (å·¥å…·æ–‡ä»¶)
- **ç±»å**: `PascalCase`
- **æ¥å£å**: `IPascalCase` (ä»¥ I å¼€å¤´)
- **å‡½æ•°å**: `camelCase`
- **å¸¸é‡å**: `UPPER_SNAKE_CASE`

### ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ bootstrap/          # å¯åŠ¨å’Œæ³¨å†Œé€»è¾‘
â”œâ”€â”€ cache/              # ç¼“å­˜å®ç°
â”œâ”€â”€ capabilities/       # MCP èƒ½åŠ›å±‚
â”‚   â”œâ”€â”€ tools/          # å·¥å…·æ³¨å†Œè¡¨å’ŒåŸºç±»
â”‚   â”œâ”€â”€ resources/      # èµ„æºå®šä¹‰
â”‚   â””â”€â”€ prompts/        # æç¤ºæ¨¡æ¿
â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”œâ”€â”€ core/               # æ ¸å¿ƒæœåŠ¡å™¨å®ç°
â”‚   â””â”€â”€ server/         # MCP Server
â”œâ”€â”€ errors/             # é”™è¯¯å®šä¹‰
â”œâ”€â”€ logging/            # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ plugins/            # æ’ä»¶å®ç°
â”‚   â”œâ”€â”€ gitlab-mr/      # MR ç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ gitlab-file/    # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â””â”€â”€ gitlab-code-review/  # ä»£ç å®¡æŸ¥å·¥å…·
â”œâ”€â”€ repositories/       # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ transport/          # ä¼ è¾“å±‚
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### è¿è¡Œæ—¶å’Œè¯­è¨€

- **Node.js**: >= 18.0.0
- **TypeScript**: ^5.3.3
- **åŒ…ç®¡ç†å™¨**: pnpm (æ¨è)

### æ ¸å¿ƒä¾èµ–

| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| `@modelcontextprotocol/sdk` | ^1.0.4 | MCP åè®®å®ç° |
| `@gitbeaker/rest` | ^41.3.1 | GitLab API å®¢æˆ·ç«¯ |
| `zod` | ^3.24.1 | æ¨¡å¼éªŒè¯ |
| `pino` | ^9.6.0 | ç»“æ„åŒ–æ—¥å¿— |

### å¼€å‘å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| `vitest` | æµ‹è¯•æ¡†æ¶ |
| `typescript` | TypeScript ç¼–è¯‘å™¨ |
| `eslint` | ä»£ç æ£€æŸ¥ |
| `prettier` | ä»£ç æ ¼å¼åŒ– |

å®Œæ•´æŠ€æœ¯æ ˆè¯´æ˜è¯·æŸ¥çœ‹ [æŠ€æœ¯é€‰å‹æ–‡æ¡£](./decisions/tech-stack.md)ã€‚

## ğŸ“– æ·±å…¥é˜…è¯»

### æ¶æ„å’Œè®¾è®¡

- [ç³»ç»Ÿæ¶æ„](./architecture.md) - è¯¦ç»†çš„æ¶æ„è®¾è®¡è¯´æ˜
- [æ¥å£è®¾è®¡](./design/interfaces.md) - æ ¸å¿ƒæ¥å£å’Œç±»å‹å®šä¹‰
- [æŠ€æœ¯é€‰å‹](./decisions/tech-stack.md) - æŠ€æœ¯æ ˆé€‰å‹ç†ç”±

### å¼€å‘æŒ‡å—

- [æ’ä»¶å¼€å‘](./plugin-development-guide.md) - å¦‚ä½•å¼€å‘æ’ä»¶
- [æµ‹è¯•æŒ‡å—](../../TESTING.md) - æµ‹è¯•æœ€ä½³å®è·µ
- [API å‚è€ƒ](../api-reference.md) - å®Œæ•´ API æ–‡æ¡£

### æ€§èƒ½å’Œä¼˜åŒ–

- [æ€§èƒ½åŸºå‡†](./benchmarks/baseline.md) - æ€§èƒ½æµ‹è¯•æ•°æ®
- [ä¼˜åŒ–å»ºè®®](./benchmarks/baseline.md#ä¼˜åŒ–å»ºè®®) - æ€§èƒ½ä¼˜åŒ–æŒ‡å—

## ğŸ› è°ƒè¯•æŠ€å·§

### æœ¬åœ°è°ƒè¯•

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
export LOG_LEVEL=debug
pnpm start

# ä½¿ç”¨ Node.js inspector
node --inspect dist/src/index.js
```

### æµ‹è¯•è°ƒè¯•

```bash
# è°ƒè¯•å•ä¸ªæµ‹è¯•
node --inspect-brk node_modules/.bin/vitest run src/services/MergeRequestService.test.ts

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
pnpm test -- --reporter=verbose
```

### å¸¸è§é—®é¢˜

æŸ¥çœ‹ [é¡¹ç›® README](../../README.md#æ•…éšœæ’é™¤) çš„æ•…éšœæ’é™¤éƒ¨åˆ†ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. å¼€å‘å’Œæµ‹è¯•ä½ çš„åŠŸèƒ½
4. æäº¤æ›´æ”¹: `git commit -m 'feat: add amazing feature'`
5. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
6. åˆ›å»º Pull Request

### Commit è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

ç¤ºä¾‹ï¼š
```bash
feat: æ·»åŠ æ‰¹é‡å®¡æŸ¥åŠŸèƒ½
fix: ä¿®å¤è¡Œå†…è¯„è®ºä½ç½®é”™è¯¯
docs: æ›´æ–° API æ–‡æ¡£
refactor: é‡æ„ç¼“å­˜å±‚å®ç°
```

## ğŸ“® è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹ [æ–‡æ¡£ä¸­å¿ƒ](../README.md)
- ğŸ› æäº¤ [Issue](https://github.com/LynnCen/gitlab-mcp/issues)
- ğŸ’¬ å‚ä¸ [è®¨è®º](https://github.com/LynnCen/gitlab-mcp/discussions)

---

**æœ€åæ›´æ–°**: 2026-01-28  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0.0
